import{r as g,j as t,B as b,S as D,T as c,F as R,I as N,a as E,M as G,G as M,u as P,b as _,C as T,c as k,d as U}from"./index-ddzL1-Av.js";import{d as y,a as w}from"./tiaData-_HO0snSy.js";const F=[{key:"ALL_GROWTH_RATE",label:"All Students Growth Rate",fmt:"pct"},{key:"ECODIS_GROWTH_RATE",label:"Economically Disadvantaged Growth",fmt:"pct"},{key:"HISPANIC_GROWTH_RATE",label:"Hispanic Growth",fmt:"pct"},{key:"WHITE_GROWTH_RATE",label:"White Growth",fmt:"pct"},{key:"AFR_AMER_GROWTH_RATE",label:"African American Growth",fmt:"pct"},{key:"FEMALE_GROWTH_RATE",label:"Female Growth",fmt:"pct"},{key:"MALE_GROWTH_RATE",label:"Male Growth",fmt:"pct"}],j=s=>s==null||Number.isNaN(s)?"—":Intl.NumberFormat().format(s),I=s=>s==null||Number.isNaN(s)?"—":Intl.NumberFormat(void 0,{style:"percent",maximumFractionDigits:1}).format(s);function H({title:s,v23:l,v24:o,isPercent:m=!1,height:i=280}){const d=P(),a=d.palette.text.primary,n=d.palette.mode==="dark"?_("#ffffff",.22):_("#000000",.12),f=d.palette.background.paper,u=d.palette.text.primary,A=d.palette.mode==="dark"?["#67D5B5","#4CC9F0"]:["#59A14F","#4E79A7"],x=g.useMemo(()=>[{year:"2023",value:l,missing:l==null},{year:"2024",value:o,missing:o==null}],[l,o]),e=m?I:j;if((l==null||Number.isNaN(l))&&(o==null||Number.isNaN(o)))return t.jsx(T,{sx:{height:i,bgcolor:"background.paper",color:"text.primary"},children:t.jsxs(k,{children:[t.jsx(c,{variant:"subtitle1",gutterBottom:!0,children:s}),t.jsx(b,{sx:{display:"grid",placeItems:"center",height:i-80,color:"text.secondary"},children:t.jsx(c,{variant:"body2",children:"No data for 2023 or 2024"})})]})});const S=({xScale:r,innerHeight:p})=>x.map(h=>h.missing?t.jsx("text",{x:r(h.year)+r.bandwidth()/2,y:p/2,textAnchor:"middle",dominantBaseline:"middle",style:{fill:"black",fontSize:14,fontWeight:500,pointerEvents:"none"},children:"No Data"},`${h.year}-missing`):null);return t.jsx(T,{sx:{height:i,bgcolor:"background.paper",color:"text.primary"},children:t.jsxs(k,{sx:{height:"100%",display:"flex",flexDirection:"column",gap:1},children:[t.jsx(c,{variant:"subtitle1",sx:{fontSize:20,fontWeight:600},children:s}),t.jsx(b,{sx:{flex:1,minHeight:160},children:t.jsx(U,{data:x,keys:["value"],indexBy:"year",margin:{top:10,right:24,bottom:36,left:56},padding:.4,enableGridY:!0,colors:A,layers:["grid","axes","bars","markers","legends",S],valueScale:{type:"linear",min:0,max:m?1:"auto"},axisLeft:{tickValues:m?[0,.2,.4,.6,.8,1]:void 0,format:r=>m?I(r):j(r)},axisBottom:{tickSize:0,tickPadding:8},labelSkipHeight:14,label:r=>r.data.missing?"":e(r.value),labelTextColor:a,tooltip:({value:r,indexValue:p,data:h})=>h.missing?null:t.jsx(b,{sx:{p:1,bgcolor:f,color:u,border:`1px solid ${n}`,borderRadius:1},children:t.jsxs(c,{variant:"caption",children:[p,": ",t.jsx("strong",{children:e(r)})]})}),valueFormat:r=>m?I(r):j(r),theme:{textColor:a,labels:{text:{fontSize:17,fill:a}},axis:{domain:{line:{stroke:n}},ticks:{text:{fontSize:14,fill:a},line:{stroke:n}},legend:{text:{fill:a}}},grid:{line:{stroke:n,strokeDasharray:"4 4"}},tooltip:{container:{fontSize:14,background:f,color:u}}}})}),t.jsxs(D,{direction:"row",spacing:2,sx:{mt:.5},children:[t.jsxs(c,{variant:"caption",color:"text.secondary",children:["2023: ",t.jsx("strong",{children:l==null?"N/A":e(l)})]}),t.jsxs(c,{variant:"caption",color:"text.secondary",children:["2024: ",t.jsx("strong",{children:o==null?"N/A":e(o)})]})]})]})})}function L(){var A,x;const s=g.useMemo(()=>new Map(y.map(e=>[e.CAMPUS_ID,e])),[]),l=g.useMemo(()=>new Map(w.map(e=>[e.CAMPUS_ID,e])),[]),o=g.useMemo(()=>y.map(e=>({CAMPUS_ID:e.CAMPUS_ID,label:e.CAMPUS,district:e.DISTRICT})).sort((e,C)=>e.label.localeCompare(C.label)),[]),m="'015912001",[i,d]=g.useState(((A=y.find(e=>e.CAMPUS_ID===m))==null?void 0:A.CAMPUS_ID)??((x=y[0])==null?void 0:x.CAMPUS_ID)??null),a=i!=null?s.get(i):null,n=i!=null?l.get(i):null,f=(a==null?void 0:a.CAMPUS)??(n==null?void 0:n.CAMPUS)??"Unknown Campus",u=(a==null?void 0:a.DISTRICT)??(n==null?void 0:n.DISTRICT)??"";return t.jsxs(b,{sx:{p:{xs:2,md:3}},children:[t.jsxs(D,{direction:{xs:"column",md:"row"},spacing:2,alignItems:{md:"center"},sx:{mb:2},children:[t.jsxs(b,{sx:{flex:1},children:[t.jsxs(c,{variant:"h5",fontWeight:700,children:["Annual Growth Scores — ",f]}),u&&t.jsx(c,{variant:"body2",color:"text.secondary",children:u})]}),t.jsxs(R,{size:"small",sx:{minWidth:280},children:[t.jsx(N,{sx:{color:"black"},children:"Campus"}),t.jsx(E,{sx:{color:"black"},label:"Campus",value:i??"",onChange:e=>d(e.target.value),MenuProps:{PaperProps:{style:{maxHeight:360}}},children:o.map(e=>t.jsxs(G,{value:e.CAMPUS_ID,children:[e.label," (",e.CAMPUS_ID,")"]},e.CAMPUS_ID))})]})]}),t.jsx(M,{container:!0,spacing:2,children:F.map(({key:e,label:C,fmt:S})=>{const r=(a==null?void 0:a[e])??null,p=(n==null?void 0:n[e])??null;return t.jsx(M,{item:!0,xs:12,md:6,lg:4,children:t.jsx(H,{title:C,v23:r,v24:p,isPercent:S==="pct"})},e)})})]})}export{L as default};
