import{r as g,j as t,B as b,T as c,F as E,I as G,S as _,M as w,G as S,u as D,a as R,C as I,b as N,c as F}from"./index-2Eeh1bi4.js";import{d as A,a as H,S as M}from"./tiaData-rheBZ3N9.js";const W=[{key:"ALL_GROWTH_RATE",label:"All Students Growth Rate",fmt:"pct"},{key:"ECODIS_GROWTH_RATE",label:"Economically Disadvantaged Growth",fmt:"pct"},{key:"HISPANIC_GROWTH_RATE",label:"Hispanic Growth",fmt:"pct"},{key:"WHITE_GROWTH_RATE",label:"White Growth",fmt:"pct"},{key:"AFR_AMER_GROWTH_RATE",label:"African American Growth",fmt:"pct"},{key:"FEMALE_GROWTH_RATE",label:"Female Growth",fmt:"pct"},{key:"MALE_GROWTH_RATE",label:"Male Growth",fmt:"pct"}],k=l=>l==null||Number.isNaN(l)?"—":Intl.NumberFormat().format(l),C=l=>l==null||Number.isNaN(l)?"—":Intl.NumberFormat(void 0,{style:"percent",maximumFractionDigits:1}).format(l);function B({title:l,v23:s,v24:o,isPercent:m=!1,height:i=280}){const d=D(),a=d.palette.text.primary,n=d.palette.mode==="dark"?R("#ffffff",.22):R("#000000",.12),f=d.palette.background.paper,u=d.palette.text.primary,y=d.palette.mode==="dark"?["#67D5B5","#4CC9F0"]:["#59A14F","#4E79A7"],x=g.useMemo(()=>[{year:"2023",value:s,missing:s==null},{year:"2024",value:o,missing:o==null}],[s,o]),e=m?C:k;if((s==null||Number.isNaN(s))&&(o==null||Number.isNaN(o)))return t.jsx(I,{sx:{height:i,bgcolor:"background.paper",color:"text.primary"},children:t.jsxs(N,{children:[t.jsx(c,{variant:"subtitle1",gutterBottom:!0,children:l}),t.jsx(b,{sx:{display:"grid",placeItems:"center",height:i-80,color:"text.secondary"},children:t.jsx(c,{variant:"body2",children:"No data for 2023 or 2024"})})]})});const T=({xScale:r,innerHeight:p})=>x.map(h=>h.missing?t.jsx("text",{x:r(h.year)+r.bandwidth()/2,y:p/2,textAnchor:"middle",dominantBaseline:"middle",style:{fill:"black",fontSize:14,fontWeight:500,pointerEvents:"none"},children:"No Data"},`${h.year}-missing`):null);return t.jsx(I,{sx:{height:i,bgcolor:"background.paper",color:"text.primary"},children:t.jsxs(N,{sx:{height:"100%",display:"flex",flexDirection:"column",gap:1},children:[t.jsx(c,{variant:"subtitle1",sx:{fontSize:20,fontWeight:600},children:l}),t.jsx(b,{sx:{flex:1,minHeight:160},children:t.jsx(F,{data:x,keys:["value"],indexBy:"year",margin:{top:10,right:24,bottom:36,left:56},padding:.4,enableGridY:!0,colors:y,layers:["grid","axes","bars","markers","legends",T],valueScale:{type:"linear",min:0,max:m?1:"auto"},axisLeft:{tickValues:m?[0,.2,.4,.6,.8,1]:void 0,format:r=>m?C(r):k(r)},axisBottom:{tickSize:0,tickPadding:8},labelSkipHeight:14,label:r=>r.data.missing?"":e(r.value),labelTextColor:a,tooltip:({value:r,indexValue:p,data:h})=>h.missing?null:t.jsx(b,{sx:{p:1,bgcolor:f,color:u,border:`1px solid ${n}`,borderRadius:1},children:t.jsxs(c,{variant:"caption",children:[p,": ",t.jsx("strong",{children:e(r)})]})}),valueFormat:r=>m?C(r):k(r),theme:{textColor:a,labels:{text:{fontSize:17,fill:a}},axis:{domain:{line:{stroke:n}},ticks:{text:{fontSize:14,fill:a},line:{stroke:n}},legend:{text:{fill:a}}},grid:{line:{stroke:n,strokeDasharray:"4 4"}},tooltip:{container:{fontSize:14,background:f,color:u}}}})}),t.jsxs(M,{direction:"row",spacing:2,sx:{mt:.5},children:[t.jsxs(c,{variant:"caption",color:"text.secondary",children:["2023: ",t.jsx("strong",{children:s==null?"N/A":e(s)})]}),t.jsxs(c,{variant:"caption",color:"text.secondary",children:["2024: ",t.jsx("strong",{children:o==null?"N/A":e(o)})]})]})]})})}function P(){var y,x;const l=g.useMemo(()=>new Map(A.map(e=>[e.id,e])),[]),s=g.useMemo(()=>new Map(H.map(e=>[e.id,e])),[]),o=g.useMemo(()=>A.map(e=>({id:e.id,label:e.CAMPUS,district:e.DISTRICT})).sort((e,j)=>e.label.localeCompare(j.label)),[]),m=686,[i,d]=g.useState(((y=A.find(e=>e.id===m))==null?void 0:y.id)??((x=A[0])==null?void 0:x.id)??null),a=i!=null?l.get(i):null,n=i!=null?s.get(i):null,f=(a==null?void 0:a.CAMPUS)??(n==null?void 0:n.CAMPUS)??"Unknown Campus",u=(a==null?void 0:a.DISTRICT)??(n==null?void 0:n.DISTRICT)??"";return t.jsxs(b,{sx:{p:{xs:2,md:3}},children:[t.jsxs(M,{direction:{xs:"column",md:"row"},spacing:2,alignItems:{md:"center"},sx:{mb:2},children:[t.jsxs(b,{sx:{flex:1},children:[t.jsxs(c,{variant:"h5",fontWeight:700,children:["Annual Growth Scores — ",f]}),u&&t.jsx(c,{variant:"body2",color:"text.secondary",children:u})]}),t.jsxs(E,{size:"small",sx:{minWidth:280},children:[t.jsx(G,{sx:{color:"black"},children:"Campus"}),t.jsx(_,{sx:{color:"black"},label:"Campus",value:i??"",onChange:e=>d(e.target.value),MenuProps:{PaperProps:{style:{maxHeight:360}}},children:o.map(e=>t.jsxs(w,{value:e.id,children:[e.label," (",e.id,")"]},e.id))})]})]}),t.jsx(S,{container:!0,spacing:2,children:W.map(({key:e,label:j,fmt:T})=>{const r=(a==null?void 0:a[e])??null,p=(n==null?void 0:n[e])??null;return t.jsx(S,{item:!0,xs:12,md:6,lg:4,children:t.jsx(B,{title:j,v23:r,v24:p,isPercent:T==="pct"})},e)})})]})}export{P as default};
