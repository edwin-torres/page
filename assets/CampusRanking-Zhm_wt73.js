import{u as H,r as f,a as M,j as t,C as W,b as L,B as c,T as k,F as C,I as y,S,M as h,c as v}from"./index-pjXmtJX3.js";import{d as F,a as P,S as w}from"./tiaData-hn0vAzSw.js";import{L as U}from"./LinearProgress-GNlI-JJw.js";const T=[{key:"ALL_GROWTH_RATE",label:"All Students Growth",fmt:"pct"},{key:"ECODIS_GROWTH_RATE",label:"Econ Disadv. Growth",fmt:"pct"},{key:"HISPANIC_GROWTH_RATE",label:"Hispanic Growth",fmt:"pct"},{key:"WHITE_GROWTH_RATE",label:"White Growth",fmt:"pct"},{key:"AFR_AMER_GROWTH_RATE",label:"African American Growth",fmt:"pct"},{key:"FEMALE_GROWTH_RATE",label:"Female Growth",fmt:"pct"},{key:"MALE_GROWTH_RATE",label:"Male Growth",fmt:"pct"}],D={ALL_GROWTH_RATE:"ALL_STUDENT_COUNT",ECODIS_GROWTH_RATE:"ECODIS_COUNT",HISPANIC_GROWTH_RATE:"HISPANIC_COUNT",WHITE_GROWTH_RATE:"WHITE_COUNT",AFR_AMER_GROWTH_RATE:"AFR_AMER_COUNT",FEMALE_GROWTH_RATE:"FEMALE_COUNT",MALE_GROWTH_RATE:"MALE_COUNT"},u=a=>a==null||Number.isNaN(a)?"—":Intl.NumberFormat().format(a),p=a=>a==null||Number.isNaN(a)?"—":Intl.NumberFormat(void 0,{style:"percent",maximumFractionDigits:1}).format(a);function Y(a){var E,O;const b=H(),I=Array.isArray(a==null?void 0:a.data23)?a.data23:F??[],j=Array.isArray(a==null?void 0:a.data24)?a.data24:P??[],[_,G]=f.useState(2024),[r,N]=f.useState("ALL_GROWTH_RATE"),d=_===2023?I:j,n=((E=T.find(e=>e.key===r))==null?void 0:E.fmt)==="pct",m=n?p:u,A=f.useMemo(()=>{const e=Array.isArray(d)?d:[],o=D[r]??"ALL_STUDENT_COUNT";return e.filter(l=>l&&l[r]!=null).map(l=>({campus:l.CAMPUS,value:l[r],n:(l==null?void 0:l[o])??null})).sort((l,i)=>l.value-i.value).slice(0,12)},[d,r]),x=b.palette.text.primary,s=b.palette.mode==="dark"?M("#ffffff",.22):M("#000000",.12),g={color:"#0c0b0bff","& .MuiSvgIcon-root":{color:"#292020ff"},"& .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(0,0,0,0.25)"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(0,0,0,0.45)"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(0,0,0,0.65)"}},R={PaperProps:{sx:{bgcolor:"#fff",color:"#111",maxHeight:360,"& .MuiMenuItem-root.Mui-selected":{bgcolor:"rgba(0,0,0,0.06)"},"& .MuiMenuItem-root.Mui-selected:hover":{bgcolor:"rgba(0,0,0,0.10)"}}}};return t.jsx(W,{sx:{bgcolor:"background.paper",height:460},children:t.jsxs(L,{sx:{height:"100%"},children:[t.jsxs(w,{direction:{xs:"column",md:"row"},spacing:2,alignItems:{md:"center"},sx:{mb:1},children:[t.jsx(c,{sx:{flex:1},children:t.jsxs(k,{variant:"subtitle1",sx:{color:"#000",fontSize:20,fontWeight:600},children:["Metric — ",(O=T.find(e=>e.key===r))==null?void 0:O.label]})}),t.jsxs(C,{size:"small",sx:{minWidth:120},children:[t.jsx(y,{sx:{color:"black"},children:"Year"}),t.jsxs(S,{label:"Year",value:_,onChange:e=>G(Number(e.target.value)),sx:g,MenuProps:R,children:[t.jsx(h,{value:2023,children:"2023"}),t.jsx(h,{value:2024,children:"2024"})]})]}),t.jsxs(C,{size:"small",sx:{minWidth:220},children:[t.jsx(y,{sx:{color:"black"},children:"Metric"}),t.jsx(S,{label:"Metric",value:r,onChange:e=>N(e.target.value),sx:g,MenuProps:R,children:T.map(e=>t.jsx(h,{value:e.key,children:e.label},e.key))})]})]}),t.jsx(c,{sx:{height:360},children:A.length?t.jsx(v,{data:A,layout:"horizontal",keys:["value"],indexBy:"campus",margin:{top:10,right:24,bottom:56,left:200},padding:.3,colors:["#59A14F"],enableGridY:!1,enableGridX:!0,valueScale:{type:"linear",min:0,max:n?1:"auto"},axisLeft:{tickSize:0,tickPadding:6},axisBottom:{tickSize:0,tickPadding:8,tickRotation:0,tickValues:n?[0,.25,.5,.75,1]:void 0,format:e=>n?p(e):u(e),legend:n?" ":"",legendOffset:40,legendPosition:"middle"},labelSkipWidth:60,label:e=>{var i;const o=(i=e.data)==null?void 0:i.n,l=o==null?"":`  (n=${u(o)})`;return`${m(e.value)}${l}`},valueFormat:e=>m(e),theme:{textColor:x,labels:{text:{fontSize:20,fill:"black"}},axis:{domain:{line:{stroke:s}},ticks:{text:{fontSize:15,fill:x},line:{stroke:s}},legend:{text:{fill:x}}},grid:{line:{stroke:s,strokeDasharray:"4 4"}},tooltip:{container:{fontSize:14,background:"rgba(0,0,0,0.9)",color:"#fff",border:`1px solid ${s}`}}},tooltip:({data:e,value:o})=>t.jsx(c,{sx:{p:1},children:t.jsxs(k,{variant:"caption",children:[t.jsx("strong",{children:e.campus}),t.jsx("br",{}),m(o)," ",e.n!=null?`• n=${u(e.n)}`:""]})})}):t.jsx(c,{sx:{mt:4},children:t.jsx(U,{})})})]})})}export{Y as default};
